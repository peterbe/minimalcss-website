{"version":3,"sources":["Home.js","About.js","App.js","index.js"],"names":["ShowSizeGraph","React","lazy","MINIMIZE_URL","process","DEFAULT_URL","Home","state","result","fetching","fetchingUrl","errorMessage","serverError","previousUrls","JSON","parse","window","sessionStorage","getItem","url","fetchResult","trim","Error","setState","fetch","method","body","stringify","prettier","headers","Accept","then","response","ok","json","error","status_code","stylesheetContents","previousTotalSize","Object","keys","length","map","k","reduce","a","b","newTotalSize","finalCss","item","savings","time","Date","getTime","previous","filter","each","unshift","setItem","status","catch","ex","console","log","e","submitForm","event","preventDefault","newPath","props","location","pathname","encodeURIComponent","history","push","this","search","query","variable","vars","substring","split","i","pair","decodeURIComponent","getQueryVariable","prevProps","className","onSubmit","type","value","onChange","target","startsWith","replace","match","matches","matchAll","last","slice","index","placeholder","disabled","message","DisplayPreviousUrls","PureComponent","memo","style","textAlign","width","href","mseconds","suffix","formatSize","ShowSeconds","_refresh","seconds","setTimeout","dismounted","Math","floor","hours","minutes","humanizeSeconds","nextProps","prevState","DisplayErrorMessage","DisplayResult","showPrettier","copiedToClipboard","toggleShowPrettier","onClick","copy","_prettier","component","Suspense","fallback","DisplayFetching","waiting","interval","setInterval","clearInterval","bytes","decimals","sizes","parseFloat","pow","toFixed","About","to","Component","App","navbarMenu","toggleNavbarMenu","data-target","id","activeClassName","exact","rel","path","NoMatch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a07f4561.chunk.js","sourcesContent":["import React from \"react\";\nimport PrismCode from \"react-prism\";\n// eslint-disable-next-line\nimport { Prism } from \"prismjs\";\nimport \"./Home.css\";\nimport \"prismjs/themes/prism-tomorrow.css\";\nimport copy from \"copy-to-clipboard\";\n\nconst ShowSizeGraph = React.lazy(() => import(\"./SizeGraph\"));\nconst MINIMIZE_URL = process.env.REACT_APP_ABSOLUTE_API_URL || \"/minimize\";\n\nconst DEFAULT_URL = \"https://minimalcss.app\";\n\nfunction getQueryVariable(query, variable) {\n  var vars = query.substring(1, query.length).split(\"&\");\n  for (var i = 0; i < vars.length; i++) {\n    var pair = vars[i].split(\"=\");\n    if (decodeURIComponent(pair[0]) === variable) {\n      return decodeURIComponent(pair[1]);\n    }\n  }\n}\n\nfunction humanizeSeconds(mseconds) {\n  const seconds = Math.floor(mseconds / 1000);\n  const hours = Math.floor(seconds / 3600);\n  if (hours > 0) {\n    return hours === 1 ? \"1 hour\" : `${hours} hours`;\n  }\n  const minutes = Math.floor(seconds / 60);\n  if (minutes > 0) {\n    return minutes === 1 ? \"1 minute\" : `${minutes} minutes`;\n  }\n  return \"seconds\";\n}\n\nclass Home extends React.PureComponent {\n  state = {\n    result: null,\n    fetching: false,\n    fetchingUrl: null,\n    errorMessage: null,\n    serverError: false,\n    previousUrls: JSON.parse(\n      window.sessionStorage.getItem(\"previousUrls\") || \"[]\"\n    ),\n    url: DEFAULT_URL,\n  };\n\n  componentDidMount() {\n    if (this.props.location.search) {\n      const url = getQueryVariable(this.props.location.search, \"url\");\n      if (url) {\n        this.setState({ url: url.trim() }, this.fetchResult);\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const locationChanged = prevProps.location !== this.props.location;\n    if (locationChanged && this.state.result) {\n      this.setState({ result: null });\n    }\n  }\n\n  fetchResult = () => {\n    const url = this.state.url;\n    if (!url.trim()) {\n      throw new Error(\"no url\");\n    }\n    this.setState(() => ({\n      fetching: true,\n      result: null,\n      fetchingUrl: url,\n      errorMessage: null,\n      serverError: false,\n    }));\n    return fetch(MINIMIZE_URL, {\n      method: \"POST\",\n      body: JSON.stringify({ url, prettier: true }),\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        this.setState({ fetching: false });\n        if (response.ok) {\n          response.json().then((json) => {\n            if (json.error || (json.status_code !== 200 && !json.result)) {\n              this.setState({\n                errorMessage: json.error || `${json.status_code} != 200`,\n                serverError: false,\n              });\n            } else {\n              this.setState(\n                {\n                  result: json,\n                  errorMessage: null,\n                  serverError: false,\n                },\n                () => {\n                  const stylesheetContents = json.result.stylesheetContents;\n                  let previousTotalSize = 0;\n                  if (Object.keys(stylesheetContents).length) {\n                    previousTotalSize = Object.keys(stylesheetContents)\n                      .map((k) => {\n                        return stylesheetContents[k].length;\n                      })\n                      .reduce((a, b) => a + b);\n                  }\n                  const newTotalSize = json.result.finalCss.length;\n                  const item = {\n                    url,\n                    savings: previousTotalSize - newTotalSize,\n                    time: new Date().getTime(),\n                  };\n                  const previous = this.state.previousUrls.filter((each) => {\n                    return each.url !== url;\n                  });\n                  previous.unshift(item);\n                  this.setState({ previousUrls: previous }, () => {\n                    window.sessionStorage.setItem(\n                      \"previousUrls\",\n                      JSON.stringify(previous)\n                    );\n                  });\n                }\n              );\n            }\n          });\n        } else {\n          response\n            .json()\n            .then((json) => {\n              if (json && json.error) {\n                this.setState({\n                  errorMessage: json.error,\n                  serverError: false,\n                });\n              } else {\n                this.setState({\n                  errorMessage: `Server request failure (status=${response.status})`,\n                  serverError: false,\n                });\n              }\n            })\n            .catch((ex) => {\n              console.log(`${response.status} error wasn't JSON`);\n              this.setState({\n                errorMessage: `Server request failure (status=${response.status})`,\n                serverError: false,\n              });\n            });\n        }\n      })\n      .catch((e) => {\n        this.setState({\n          errorMessage: `API call failed: ${e}`,\n          serverError: true,\n        });\n      });\n  };\n\n  submitForm = (event) => {\n    event.preventDefault();\n    const url = this.state.url.trim();\n    if (!url) {\n      return;\n    }\n    let newPath = this.props.location.pathname;\n    newPath += `?url=${encodeURIComponent(url)}`;\n    this.props.history.push(newPath);\n    return this.fetchResult();\n  };\n  render() {\n    const previousUrls = this.state.previousUrls.filter((each) => {\n      return !this.state.fetchingUrl || this.state.fetchingUrl !== each.url;\n    });\n    return (\n      <section className=\"hero home\">\n        <div className=\"hero-body\">\n          <div className=\"container has-text-centered\">\n            {/* <p>Enter the URL of a site that has a lot of CSS</p> */}\n            <form onSubmit={this.submitForm}>\n              <div className=\"field is-grouped\">\n                <p className=\"control is-expanded\">\n                  <input\n                    className=\"input is-medium\"\n                    type=\"url\"\n                    value={this.state.url}\n                    onChange={(event) => {\n                      this.setState({ url: event.target.value }, () => {\n                        // Did you accidentally paste in after the default value\n                        if (\n                          this.state.url.startsWith(DEFAULT_URL) &&\n                          this.state.url !== DEFAULT_URL\n                        ) {\n                          this.setState({\n                            url: this.state.url.replace(DEFAULT_URL, \"\").trim(),\n                          });\n                        } else if (\n                          (this.state.url.match(/:\\/\\//g) || []).length > 1\n                        ) {\n                          const matches = [\n                            ...this.state.url.matchAll(/http?s:\\/\\//g),\n                          ];\n                          const last = matches[matches.length - 1];\n                          this.setState({\n                            url: this.state.url.slice(last.index).trim(),\n                          });\n                        }\n                      });\n                    }}\n                    placeholder={`For example. ${DEFAULT_URL}`}\n                  />\n                </p>\n                <p className=\"control\">\n                  <button\n                    type=\"submit\"\n                    className={\n                      this.state.fetching\n                        ? \"button is-info is-medium is-loading\"\n                        : \"button is-info is-medium\"\n                    }\n                    disabled={this.state.fetching}\n                  >\n                    Go!\n                  </button>\n                </p>\n              </div>\n            </form>\n          </div>\n        </div>\n        <div className=\"section main\">\n          <div className=\"container\">\n            {!(\n              this.state.fetching ||\n              this.state.errorMessage ||\n              this.state.result ||\n              this.state.previousUrls.length\n            ) ? (\n              <p>\n                <i>\n                  Waiting for you to submit a URL above to show some cool stuff.\n                </i>\n              </p>\n            ) : null}\n            {this.state.fetching ? <DisplayFetching /> : null}\n            {this.state.errorMessage ? (\n              <DisplayErrorMessage\n                message={this.state.errorMessage}\n                serverError={this.state.serverError}\n              />\n            ) : (\n              <DisplayResult result={this.state.result} />\n            )}\n          </div>\n        </div>\n\n        <DisplayPreviousUrls previousUrls={previousUrls} />\n      </section>\n    );\n  }\n}\n\nexport default Home;\n\nconst DisplayPreviousUrls = React.memo(({ previousUrls }) => {\n  if (!previousUrls.length) {\n    return null;\n  }\n  return (\n    <div className=\"section previous-urls\">\n      <div className=\"container\">\n        <div className=\"box\" style={{ textAlign: \"left\" }}>\n          <h4 className=\"title is-3\">Previous URLs Submitted</h4>\n          <table className=\"table\">\n            <tbody>\n              {previousUrls.map((previous) => {\n                return (\n                  <tr key={previous.url}>\n                    <td className=\"overflowing\" style={{ width: \"70%\" }}>\n                      <a href={`/?url=${encodeURIComponent(previous.url)}`}>\n                        {previous.url}\n                      </a>\n                    </td>\n                    <td>\n                      <small>\n                        <ShowSeconds\n                          mseconds={new Date().getTime() - previous.time}\n                          suffix=\"ago\"\n                        />\n                      </small>\n                    </td>\n                    <td>Saving {formatSize(previous.savings)}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nclass ShowSeconds extends React.PureComponent {\n  state = {\n    mseconds: 0,\n  };\n  static getDerivedStateFromProps(nextProps, prevState) {\n    return { mseconds: nextProps.mseconds };\n  }\n  _refresh = (seconds) => {\n    window.setTimeout(() => {\n      if (!this.dismounted) {\n        this.setState({ mseconds: this.state.mseconds + seconds * 1000 });\n        window.setTimeout(() => {\n          this._refresh(seconds);\n        }, seconds * 1000);\n      }\n    }, seconds * 1000);\n  };\n  componentDidMount() {\n    this._refresh(10);\n  }\n  componentWillUnmount() {\n    this.dismounted = true;\n  }\n  render() {\n    const { suffix } = this.props;\n    return `${humanizeSeconds(this.state.mseconds)} ${suffix}`;\n  }\n}\n\nclass DisplayErrorMessage extends React.PureComponent {\n  render() {\n    return (\n      <div className=\"box\">\n        <h3 className=\"title\">\n          {this.props.serverError\n            ? \"Server Request Error\"\n            : \"Minimization Error\"}\n        </h3>\n        {!this.props.serverError ? (\n          <div className=\"notification is-warning\">\n            The request to <code>minimalcss-server</code> worked but the actual\n            minimization work failed.\n          </div>\n        ) : null}\n        <div className=\"notification is-danger\">\n          <pre>{this.props.message}</pre>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass DisplayResult extends React.PureComponent {\n  state = { showPrettier: false, copiedToClipboard: false };\n  componentWillUnmount() {\n    this.dismounted = true;\n  }\n\n  toggleShowPrettier = (event) => {\n    this.setState((prevState) => ({\n      showPrettier: !prevState.showPrettier,\n    }));\n  };\n\n  render() {\n    const { result } = this.props;\n    if (result === null) {\n      return null;\n    }\n    if (result.error) {\n      return (\n        <div className=\"box\">\n          <h3 className=\"title\">Error...</h3>\n          <div className=\"notification is-danger\">\n            <pre>{result.error}</pre>\n          </div>\n        </div>\n      );\n    }\n    const stylesheetContents = result.result.stylesheetContents;\n    let previousTotalSize = 0;\n    if (Object.keys(stylesheetContents).length) {\n      previousTotalSize = Object.keys(stylesheetContents)\n        .map((k) => {\n          return stylesheetContents[k].length;\n        })\n        .reduce((a, b) => a + b);\n    }\n    const newTotalSize = result.result.finalCss.length;\n\n    return (\n      <div className=\"box\" style={{ textAlign: \"left\" }}>\n        <h3 className=\"title is-3\">Results</h3>\n\n        <nav className=\"level\">\n          <div className=\"level-left\">\n            <div className=\"level-item\">\n              <button\n                type=\"button\"\n                className=\"button is-rounded\"\n                onClick={this.toggleShowPrettier}\n                disabled={!this.state.showPrettier}\n              >\n                Raw CSS\n              </button>\n              <button\n                type=\"button\"\n                className=\"button is-rounded\"\n                onClick={this.toggleShowPrettier}\n                disabled={this.state.showPrettier}\n              >\n                Pretty CSS\n              </button>\n            </div>\n          </div>\n\n          <div className=\"level-right\">\n            <p className=\"level-item\">\n              <button\n                className=\"button\"\n                onClick={(event) => {\n                  if (this.state.showPrettier) {\n                    copy(result.result._prettier);\n                  } else {\n                    copy(result.result.finalCss);\n                  }\n                  this.setState({ copiedToClipboard: true }, () => {\n                    window.setTimeout(() => {\n                      if (!this.dismounted) {\n                        this.setState({ copiedToClipboard: false });\n                      }\n                    }, 3000);\n                  });\n                }}\n              >\n                {this.state.copiedToClipboard\n                  ? \"Copied to clipboard\"\n                  : \"Copy to clipboard\"}\n              </button>\n            </p>\n          </div>\n        </nav>\n\n        {/* XXX this is ugly */}\n        <PrismCode component=\"pre\" className=\"language-css\">\n          {this.state.showPrettier\n            ? result.result._prettier\n            : result.result.finalCss}\n        </PrismCode>\n\n        <nav className=\"level results-level\">\n          <div className=\"level-item has-text-centered\">\n            <div>\n              <p className=\"heading\">Total size (before)</p>\n              <p className=\"title\">{formatSize(previousTotalSize)}</p>\n            </div>\n          </div>\n          <div className=\"level-item has-text-centered\">\n            <div>\n              <p className=\"heading\">Size (minimal)</p>\n              <p className=\"title\">{formatSize(newTotalSize)}</p>\n            </div>\n          </div>\n          <div className=\"level-item has-text-centered\">\n            <div>\n              <p className=\"heading\">Size reduction</p>\n              <p className=\"title\">\n                {formatSize(previousTotalSize - newTotalSize)}\n              </p>\n            </div>\n          </div>\n        </nav>\n\n        <div className=\"content\">\n          <h4 className=\"title is-4\">Stylesheets</h4>\n          <table className=\"table\">\n            <tbody>\n              {Object.keys(stylesheetContents).map((url) => {\n                return (\n                  <tr key={url}>\n                    <td>\n                      <a href={url}>{url}</a>\n                    </td>\n                    <td style={{ textAlign: \"right\" }}>\n                      <b>{formatSize(stylesheetContents[url].length)}</b>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"content\">\n          <h4 className=\"title is-4\">Graphically</h4>\n          <React.Suspense fallback={<p>Loading graph...</p>}>\n            <ShowSizeGraph\n              newTotalSize={newTotalSize}\n              stylesheetContents={stylesheetContents}\n            />\n          </React.Suspense>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass DisplayFetching extends React.PureComponent {\n  state = { waiting: 0 };\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      if (this.dismounted) return;\n\n      this.setState((prevState) => ({\n        waiting: prevState.waiting + 1,\n      }));\n    }, 1000);\n  }\n  componentWillUnmount() {\n    this.dismounted = true;\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  }\n\n  render() {\n    if (this.state.waiting < 1) {\n      return null;\n    }\n    return (\n      <div className=\"box\">\n        <p>Fetching...</p>\n        <p>Been waiting for {this.state.waiting} seconds</p>\n      </div>\n    );\n  }\n}\n\nconst formatSize = (bytes, decimals = 1) => {\n  if (!bytes) return \"0 bytes\";\n  const k = 1024;\n  const sizes = [\"bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return (\n    parseFloat((bytes / Math.pow(k, i)).toFixed(decimals)) + \" \" + sizes[i]\n  );\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass About extends React.Component {\n  render() {\n    return (\n      <div className=\"hero-body\">\n        <div className=\"container\">\n          <div className=\"column is-6 is-offset-3\">\n            <h1 className=\"title has-text-centered\">\n              About <code>minimalcss</code>\n            </h1>\n            <div className=\"box\">\n              <p>\n                This is a online version that lets your try the\n                <a href=\"https://www.npmjs.com/package/minimalcss\">\n                  <code>minimalcss</code> node package\n                </a>.\n              </p>\n              <p>\n                Normally you use <code>minimalcss</code> in your server,\n                continous integration or command line tooling to let it extract\n                the minimal CSS a page/URL/site uses but this site let's you try\n                it from the browser.\n                <br />\n                Consider everything here experimental and this web app is not\n                part of the core <code>minimalcss</code> project.\n              </p>\n              <h3>\n                <Link to=\"/\">Go back Home</Link>\n              </h3>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default About;\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  NavLink,\n  Switch\n} from \"react-router-dom\";\n\nimport \"./App.css\";\nimport Home from \"./Home\";\nimport About from \"./About\";\n\nclass App extends React.Component {\n  state = {\n    navbarMenu: false\n  };\n\n  toggleNavbarMenu = event => {\n    event.preventDefault();\n    this.setState({ navbarMenu: !this.state.navbarMenu });\n  };\n\n  render() {\n    return (\n      <Router>\n        <div>\n          <section className=\"hero is-large header-image\">\n            <div className=\"hero-head\">\n              <nav className=\"navbar\">\n                <div className=\"container\">\n                  <div className=\"navbar-brand\">\n                    <h1 className=\"brand-title\">\n                      <NavLink className=\"navbar-item\" to=\"/\">\n                        <code>minimalcss</code>\n                      </NavLink>\n                    </h1>\n\n                    <span\n                      onClick={this.toggleNavbarMenu}\n                      className={\n                        this.state.navbarMenu\n                          ? \"navbar-burger burger is-active\"\n                          : \"navbar-burger burger\"\n                      }\n                      data-target=\"navbarMenu\"\n                    >\n                      <span />\n                      <span />\n                      <span />\n                    </span>\n                  </div>\n                  <div\n                    id=\"navbarMenu\"\n                    className={\n                      this.state.navbarMenu\n                        ? \"navbar-menu is-active\"\n                        : \"navbar-menu\"\n                    }\n                  >\n                    <div className=\"navbar-end\">\n                      <NavLink\n                        to=\"/\"\n                        className=\"navbar-item\"\n                        activeClassName=\"is-active\"\n                        exact={true}\n                      >\n                        Home\n                      </NavLink>\n                      <NavLink\n                        to=\"/about\"\n                        className=\"navbar-item\"\n                        activeClassName=\"is-active\"\n                      >\n                        About minimalcss\n                      </NavLink>\n                      <span className=\"navbar-item\">\n                        <a\n                          className=\"button is-white is-outlined is-small\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          href=\"https://github.com/peterbe/minimalcss-website\"\n                        >\n                          {/* <span className=\"icon\">\n                            <i className=\"fa fa-github\" />\n                          </span> */}\n                          <span>View Source</span>\n                        </a>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </nav>\n            </div>\n          </section>\n          <Switch>\n            <Route path=\"/\" exact component={Home} />\n            <Route path=\"/about\" component={About} />\n            <Route component={NoMatch} />\n          </Switch>\n\n          <footer className=\"footer\">\n            <div className=\"container\">\n              <div className=\"content has-text-centered\">\n                <p>\n                  <a href=\"https://github.com/peterbe/minimalcss-website\">\n                    minimalcss-website\n                  </a>{\" \"}\n                  uses{\" \"}\n                  <a href=\"https://github.com/peterbe/minimalcss-server\">\n                    minimalcss-server\n                  </a>{\" \"}\n                  which uses{\" \"}\n                  <a href=\"https://github.com/peterbe/minimalcss\">minimalcss</a>{\" \"}\n                  by <a href=\"https://www.peterbe.com\">@peterbe</a> and{\" \"}\n                  <a href=\"https://twitter.com/stereobooster\">@stereobooster</a>\n                  .\n                </p>\n                <p>\n                  Site design by <a href=\"https://bulma.io/\">Bulma</a> and{\" \"}\n                  <a href=\"http://html.mijnspeelplek.com/bulma1/\">\n                    Bulma Templates\n                  </a>\n                </p>\n              </div>\n            </div>\n          </footer>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n\nfunction NoMatch({ location }) {\n  return (\n    <div>\n      <h3>\n        No match for <code>{location.pathname}</code>\n      </h3>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"bulma/css/bulma.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}